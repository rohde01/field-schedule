@import 'tailwindcss';

@plugin '@tailwindcss/typography';
@plugin '@tailwindcss/forms';
@plugin 'flowbite/plugin';

@custom-variant dark (&:where(.dark, .dark *));


@theme {


  --color-primary-50: #f2f9f6;
  --color-primary-100: #e6f3ed;
  --color-primary-200: #bfe3d3;
  --color-primary-300: #99d3b9;
  --color-primary-400: #4db38f;
  --color-primary-500: #009365;
  --color-primary-600: #00845b;
  --color-primary-700: #006e4c;
  --color-primary-800: #00583d;
  --color-primary-900: #004831;
  
  --color-sage-50: #f4f7f4;
  --color-sage-100: #e6ede6;
  --color-sage-200: #d1e0d2;
  --color-sage-300: #afc9b1;
  --color-sage-400: #88aa8b;
  --color-sage-500: #698c6c;
  --color-sage-600: #537156;
  --color-sage-700: #435b46;
  --color-sage-800: #384a3a;
  --color-sage-900: #2f3d31;

  --color-mint-50: #f2f9f6;
  --color-mint-100: #e6f3ed;
  --color-mint-200: #bfe3d3;
  --color-mint-300: #99d3b9;
  --color-mint-400: #4db38f;
  --color-mint-500: #009365;
  --color-mint-600: #00845b;
  --color-mint-700: #006e4c;
  --color-mint-800: #00583d;
  --color-mint-900: #004831;

  --color-red-50: #fef2f2;
  --color-red-100: #fee2e2;
  --color-red-200: #fecaca;
  --color-red-300: #fca5a5;
  --color-red-400: #f87171;
  --color-red-500: #ef4444;
  --color-red-600: #dc2626;
  --color-red-700: #b91c1c;
  --color-red-800: #991b1b;
  --color-red-900: #7f1d1d;

}


/*
  The default border color has changed to `currentcolor` in Tailwind CSS v4,
  so we've added these compatibility styles to make sure everything still
  looks the same as it did with Tailwind CSS v3.

  If we ever want to remove these styles, we need to add an explicit border
  color utility to any element that depends on these defaults.
*/


@layer base {
  button, [role="button"] {
    cursor: pointer;
  }
  .resize-handle {
    position: absolute;
    left: 0;
    right: 0;
    height: 6px;
    background: transparent;
    z-index: 2;
  }
  .resize-handle.top {
    top: 0;
  }
  .resize-handle.bottom {
    bottom: 0;
  }
  .horizontal-handle {
    position: absolute;
    top: 0;
    bottom: 0;
    width: 6px;
    background: transparent;
    z-index: 2;
    cursor: ew-resize;
  }
  .horizontal-handle.left {
    left: 0;
  }
  .horizontal-handle.right {
    right: 0;
  }
}
@source "../node_modules/flowbite-svelte/dist";

@utility btn {
  @apply px-4 py-2 rounded-lg font-medium transition-colors duration-200 focus:outline-hidden focus:ring-2 focus:ring-offset-2;
}

@utility btn-primary {
  @apply btn bg-mint-500 text-white hover:bg-mint-600 focus:ring-mint-500;
}

@utility btn-secondary {
  @apply btn bg-sage-100 text-sage-700 hover:bg-sage-200 focus:ring-sage-500;
}

@utility form-input {
  @apply block w-full rounded-lg border-sage-200 shadow-xs focus:border-mint-500 focus:ring-mint-500;
}

@utility form-select-pill {
  @apply form-input rounded-full px-4 py-1 bg-sage-50 border-sage-200 text-sage-700 hover:bg-sage-100 focus:ring-1 focus:ring-mint-500;
}

@utility form-input-sm {
  @apply block w-full rounded-lg border-sage-200 shadow-xs focus:border-mint-500 focus:ring-mint-500 py-1 px-2 text-sm;
}

@utility spinner {
  @apply inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-current border-r-transparent align-[-0.125em] motion-reduce:animate-[spin_1.5s_linear_infinite];
}

@utility spinner-container {
  @apply text-center p-8;
}

@utility form-label {
  @apply block text-sm font-medium text-sage-700 mb-1;
}

@utility nav-link {
  @apply px-3 py-2 text-sage-700 hover:text-mint-600 rounded-md hover:bg-sage-50 transition-colors duration-200;
  position: relative;
}

@utility dropdown-trigger {
  @apply w-full flex items-center justify-between px-5 py-3.5 bg-mint-500 hover:bg-mint-600 text-white rounded-2xl shadow-lg transition-all duration-200;
}

@utility dropdown-panel {
  @apply absolute bottom-full mb-2 w-full bg-white rounded-2xl shadow-xl border border-mint-100 overflow-hidden transition-all duration-200;
}

@utility dropdown-content {
  @apply max-h-80 overflow-y-auto p-1;
}

@utility dropdown-item {
  @apply w-full px-4 py-3 text-left text-sm hover:bg-mint-50 rounded-xl transition-colors duration-150;
}

@utility dropdown-item-selected {
  @apply bg-mint-100;
}

@utility dropdown-divider {
  @apply border-t border-mint-100 p-1;
}

@utility dropdown-action-button {
  @apply w-full flex items-center px-4 py-3 text-sm text-mint-700 hover:text-mint-800 hover:bg-mint-50 rounded-xl transition-colors duration-150;
}

@utility field-card {
  @apply relative bg-white rounded-lg shadow-md p-6 mb-4;
}

@utility field-card-grid {
  @apply grid grid-cols-2 gap-6;
}

@utility field-section {
  @apply space-y-6;
}

@utility field-subsection {
  @apply space-y-4;
}

@utility field-header {
  @apply flex items-center justify-between;
}

@utility field-title {
  @apply text-sm font-medium text-sage-700;
}

@utility field-actions {
  @apply flex justify-end mt-6;
}

@utility field-card-title {
  @apply text-xl font-semibold mb-6;
}

@utility field-subtitle {
  @apply text-sm font-medium mb-1;
}

@utility field-info-text {
  @apply text-sm text-gray-600;
}

@utility field-tag {
  @apply inline-block bg-mint-50 text-mint-700 rounded-lg px-2 py-1 text-sm;
}

@utility btn-trash {
  @apply absolute bottom-2 right-2 p-2 text-red-500 hover:text-red-600 transition-colors duration-200;
}

@utility delete-button {
  @apply bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded-sm;
}

@utility confirmation-modal {
  @apply fixed top-0 left-0 w-full h-full bg-black/50 flex justify-center items-center;
}

@utility confirmation-modal-content {
  @apply bg-white rounded-lg shadow-md p-6;
}

@utility confirmation-modal-title {
  @apply text-lg font-bold mb-4;
}

@utility confirmation-modal-text {
  @apply text-sm mb-4;
}

@utility confirmation-modal-actions {
  @apply flex justify-end;
}

@utility confirmation-modal-cancel-button {
  @apply bg-gray-200 hover:bg-gray-300 text-gray-700 font-bold py-2 px-4 rounded-sm;
}

@utility confirmation-modal-confirm-button {
  @apply bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded-sm;
}

@utility btn-add {
  @apply text-sm px-2.5 py-1.5 bg-white text-mint-600 rounded-lg hover:bg-mint-50 transition-colors border border-mint-200;
}

@utility btn-remove {
  @apply text-xs px-1.5 py-0.5 text-gray-500 hover:text-red-600 transition-colors;
}

@utility modal-overlay {
  @apply fixed inset-0 bg-black/50 z-50 flex items-center justify-center;
}

@utility modal-container {
  @apply bg-white rounded-lg p-6 max-w-sm mx-4;
}

@utility modal-title {
  @apply text-lg font-semibold mb-2;
}

@utility modal-description {
  @apply text-sage-600 mb-4;
}

@utility modal-actions {
  @apply flex justify-end space-x-3;
}

@utility btn-danger {
  @apply btn bg-red-500 text-white hover:bg-red-600 focus:ring-red-500;
}

@utility detail-card {
  @apply bg-white rounded-lg shadow-md p-6;
}

@utility detail-card-title {
  @apply text-xl font-semibold mb-6;
}

@utility detail-card-content {
  @apply space-y-4;
}

@utility detail-card-grid {
  @apply grid grid-cols-2 gap-4;
}

@utility detail-card-label {
  @apply text-sm font-medium text-sage-600;
}

@utility detail-card-value {
  @apply text-sage-800;
}

@utility page-container {
  @apply flex gap-8 min-h-[calc(100vh-10rem)];
}

@utility sidebar {
  @apply w-72 relative flex flex-col;
  height: calc(100vh - 10rem);
}

@utility sidebar-content {
  @apply flex-1 overflow-y-auto;
  position: fixed;
  width: 18rem;
  top: 7rem;
  bottom: 8rem;
}

@utility sidebar-footer {
  @apply w-72 bg-sage-50;
  position: fixed;
  bottom: 3rem;
}

@utility main-content {
  @apply flex-1;
}

@utility facility-menu {
  position: fixed;
  left: calc(27rem + 1rem);
  top: 7rem;
  @apply w-72 z-50;
}

@utility name-input {
  position: fixed;
  left: calc(27rem + 1rem);
  top: 7rem;
  @apply w-72 z-50;
}

@utility debug-container {
  @apply fixed bottom-0 left-[calc(20rem+max(1rem,calc((100%-80rem)/2+1rem)))] right-[max(1rem,calc((100%-80rem)/2+1rem))] bg-white border-t border-sage-200 p-4 max-h-[50vh] overflow-auto z-30;
}

@utility schedule-container {
  /* Schedule Grid Component Classes */
  @apply w-full p-4;
}

@utility weekday-navigation {
  @apply flex items-center justify-center space-x-4 mb-4;
}

@utility nav-button {
  @apply px-3 py-1 text-2xl text-sage-700 hover:text-mint-600 rounded-md hover:bg-sage-50 transition-colors duration-200;
}

@utility current-day {
  @apply text-lg font-medium text-sage-800;
}

@utility schedule-grid {
  @apply w-full border border-sage-200 rounded-lg overflow-hidden relative;
  display: grid !important;
  grid-template-columns: 50px repeat(auto-fit, minmax(0, 1fr)) !important;
  grid-template-rows: auto repeat(var(--total-rows) - 1, minmax(2.5rem, auto));
}

@utility schedule-header {
  @apply bg-sage-50 px-4 py-2 font-medium text-sage-700 border-r border-sage-200 text-center;
}

@utility schedule-time {
  @apply bg-sage-50 py-2 font-medium text-sage-700 border-r border-sage-200;
  width: 50px !important;
  min-width: 50px !important;
  max-width: 50px !important;
  padding-left: 4px !important;
  padding-right: 4px !important;
  text-align: center;
  display: flex;
  align-items: flex-start;
  padding-top: 0 !important;
  line-height: 1;
}

@utility schedule-header-time {
  @apply bg-sage-50 py-2 font-medium text-sage-700 border-r border-sage-200;
  width: 50px !important;
  min-width: 50px !important;
  max-width: 50px !important;
  padding-left: 4px !important;
  padding-right: 4px !important;
  text-align: center;
  display: flex;
  align-items: flex-start;
  padding-top: 0 !important;
  line-height: 1;
  @apply col-start-1 row-start-1;
}

@utility schedule-cell {
  @apply bg-white px-4 py-2 border-r border-sage-200 relative;
  border-bottom: 0;
  height: 1.5rem; /* Set a fixed height for all time slot cells */
}

@utility schedule-hour-mark {
  border-top: 1px solid #e5e5e5; /* Only hour marks have top borders */
}

@utility current-time-indicator {
  /* Current time indicator styling */
  position: absolute;
  display: flex;
  align-items: center;
  z-index: 100;
  pointer-events: none;
  width: 100%;
  left: 0;
}

@utility current-time-bubble {
  background-color: #ff3b30;
  color: white;
  font-size: 14px;
  font-weight: 500;
  border-radius: 6px;
  padding: 2px 6px;
  line-height: 1.2;
  margin-left: 0;
  min-width: 50px;
  text-align: center;
}

@utility current-time-line {
  flex: 1;
  height: 2.5px;
  background-color: #ff3b30;
}

@utility schedule-event {
  @apply bg-mint-100 text-mint-800 p-1.5 rounded-sm text-sm font-medium flex flex-col gap-1 absolute inset-0;
  margin: 2px;
  transition:
    transform 0.15s ease-out,
    box-shadow 0.15s ease-out,
    border-left 0.15s ease-out;

  /* Visual indicators for overlapping events */
  &[data-overlapping='true'] {
    border-left: 3px solid #e53e3e;
  }
}

@utility schedule-grid-container {
  /* Schedule grid container with fixed header */
  @apply w-full border border-sage-200 rounded-lg;
  display: flex;
  flex-direction: column;
}

@utility schedule-header-row {
  @apply w-full bg-sage-50;
  display: grid;
  grid-template-columns: 50px repeat(calc(var(--total-columns) - 1), 1fr);
  grid-template-rows: auto;
  position: sticky;
  top: 0;
  z-index: 10;
  border-bottom: 2px solid #d1d5db;
  padding-top: 8px;
  padding-bottom: 8px;
  margin-bottom: 4px;
}

@utility daily-schedule-wrapper {
  @apply overflow-y-auto;
  max-height: calc(100vh - 14rem);
  padding-top: 6px;
}

@utility schedule-header-cell {
  @apply row-start-1;
}

@utility schedule-time-cell {
  @apply col-start-1;
}

@utility event-team {
  @apply font-bold text-[1.15em];
}

@utility event-field {
  @apply flex items-center gap-1 text-[1.12em] text-gray-600;
}

@utility event-time {
  @apply flex items-center gap-1 text-[1.12em] text-gray-600;
}

@utility nav-container {
  @apply fixed top-0 left-0 right-0 bg-white border-b border-sage-200 z-50;
}

@utility shortcut-container {
  /* Dashboard Component Classes */
  @apply grid grid-cols-1 md:grid-cols-3 gap-6 max-w-5xl mx-auto mt-8;
}

@utility shortcut-box {
  @apply flex flex-col items-center justify-center p-8 bg-white rounded-2xl shadow-lg 
           border-2 border-sage-100 hover:border-mint-500 transition-all duration-200 
           hover:shadow-xl hover:-translate-y-1 cursor-pointer;
  min-height: 200px;
}

@utility shortcut-icon {
  @apply text-4xl text-mint-600 mb-4;
}

@utility shortcut-title {
  @apply text-xl font-semibold text-sage-800 mb-2;
}

@utility shortcut-description {
  @apply text-sage-600 text-center;
}

@utility dashboard-welcome {
  @apply max-w-4xl mx-auto text-sage-700 bg-sage-50/50 rounded-2xl p-8 mb-12 
           border border-sage-100 shadow-xs;
}

@utility dashboard-welcome-text {
  @apply text-lg leading-relaxed space-y-4;
}

@utility dashboard-welcome-highlight {
  @apply text-mint-700 font-medium;
}

@utility constraint-card {
  @apply flex-1 bg-mint-50/70 text-mint-700 rounded-lg px-4 py-3 text-sm border border-mint-100 transition-all duration-200;
}

@utility view-toggle-container {
  /* view mode toggle*/
  @apply flex justify-center;
  width: 160px;
}

@utility view-toggle {
  @apply inline-flex rounded-lg p-0.5 bg-sage-100;
  width: auto;

  & .view-toggle-btn {
    @apply px-2.5 py-1 text-sm font-medium transition-all duration-200;
  }

  & .view-toggle-btn.active {
    @apply bg-mint-500 text-white rounded-md shadow-xs;
  }
}

@utility view-toggle-btn {
  .view-toggle & {
    @apply px-2.5 py-1 text-sm font-medium transition-all duration-200;
  }

  .view-toggle &.active {
    @apply bg-mint-500 text-white rounded-md shadow-xs;
  }

  .view-toggle- &:not(.active) {
    @apply text-sage-700 hover:text-mint-600;
  }
}

@utility active {
  .view-toggle &.view-toggle-btn {
    @apply bg-mint-500 text-white rounded-md shadow-xs;
  }
}

@utility view-toggle- {
  & .view-toggle-btn:not(.active) {
    @apply text-sage-700 hover:text-mint-600;
  }
}

@utility navigation-controls {
  @apply flex items-center justify-end gap-2 min-w-0;
}

@utility timeslot-selector {
  @apply flex items-center gap-2;
}

@utility event-info-card {
  @layer components {
    @apply bg-white rounded-lg shadow-md p-4 z-50 min-w-[320px];
  }
}

@utility event-info-card-grid {
  @layer components {
    @apply grid grid-cols-2 gap-4;
  }
}

@utility event-info-card-content {
  @layer components {
    @apply pt-0;
  }
}

@utility info-card-container {
  @layer components {
    /* InfoCard positioning */
    position: absolute;
    z-index: 200; /* Increased z-index to ensure it's above time indicator */
    left: 50%;
    bottom: 100%; /* Position above the entry */
    transform: translateX(-50%);
    margin-bottom: 8px;
    filter: drop-shadow(0 4px 6px rgba(0, 0, 0, 0.1));
    width: 400px; /* Fixed width */

    /* Add a small arrow pointing to the event */
    &::after {
      content: '';
      position: absolute;
      top: 100%;
      left: 50%;
      transform: translateX(-50%);
      border-width: 8px;
      border-style: solid;
      border-color: white transparent transparent transparent;
    }
  }
}

@utility form-checkbox {
  /* checkbox toggle*/
  @apply rounded-sm border-sage-300 text-mint-600 shadow-xs focus:border-mint-500 focus:ring-mint-500;
}

@utility form-checkbox-label {
  @apply ml-2 text-sm text-sage-700;
}

@utility checkbox-container {
  @apply inline-flex items-center;
}

@utility tooltip-target {
  /* Tooltip styling*/
  position: relative;

  &:hover::before {
    content: attr(data-tooltip);
    position: absolute;
    bottom: 180%;
    left: 50%;
    transform: translateX(-50%);
    background-color: rgba(0, 0, 0, 0.8);
    color: white;
    padding: 0.25rem 0.5rem;
    border-radius: 0.25rem;
    font-size: 0.75rem;
    white-space: nowrap;
    pointer-events: none;
    z-index: 100;
    margin-bottom: 0.25rem;
  }
}

@utility progress-circle-container {
  /* Progress Circle Styling */
  display: inline-flex;
  align-items: center;
  justify-content: center;
}

@utility progress-circle {
  position: relative;
  width: 160px;
  height: 160px;
  border-radius: 50%;
  background-color: #e2e8f0;
  display: flex;
  justify-content: center;
  align-items: center;
}

@utility progress-bar {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  border-radius: 50%;
  background: conic-gradient(
    var(--progress-color, #10b981) var(--progress),
    transparent 0
  );
  transform: rotate(-90deg);
  transform-origin: center;

  &::before {
    content: '';
    position: absolute;
    top: 8px;
    left: 8px;
    right: 8px;
    bottom: 8px;
    border-radius: 50%;
    background-color: white;
  }
}

@utility progress-content {
  position: relative;
  z-index: 10;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  width: 100%;
  height: 100%;
}

@utility progress-value {
  font-size: 28px;
  font-weight: 600;
  color: #334155;
  line-height: 1.2;
}

@utility progress-label {
  font-size: 14px;
  color: #64748b;
}

@utility recurring-indicator {
  /* Recurring indicator styling */
  position: absolute;
  top: 4px;
  right: 4px;
  border-radius: 50%;
  width: 22px;
  height: 22px;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 5;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);

  &.regular {
    color: #059669; /* Darker green for better contrast */
    background-color: rgba(240, 255, 244, 0.95);
    border: 1.5px solid #10b981; /* Mint-500 */
  }

  &.override {
    color: #6b7280; /* Darker gray for better contrast */
    background-color: rgba(249, 250, 251, 0.95);
    border: 1.5px solid #9ca3af;
  }

  & svg {
    width: 14px;
    height: 14px;
    stroke-width: 0.5;
  }
}

@utility regular {
  &.recurring-indicator {
    color: #059669; /* Darker green for better contrast */
    background-color: rgba(240, 255, 244, 0.95);
    border: 1.5px solid #10b981; /* Mint-500 */
  }
}

@utility override {
  &.recurring-indicator {
    color: #6b7280; /* Darker gray for better contrast */
    background-color: rgba(249, 250, 251, 0.95);
    border: 1.5px solid #9ca3af;
  }
}
